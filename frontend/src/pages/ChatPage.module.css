/* Arquivo: frontend/src/pages/ChatPage.module.css */

.chatLayout {
    display: flex;
    height: 100vh;
    background-color: #111827;
    color: white;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

.sidebar {
    width: 260px;
    background-color: #1f2937;
    padding: 1rem;
    display: flex;
    flex-direction: column;
    border-right: 1px solid #374151;
    overflow-y: auto;
}

.sidebarHeader {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.logoutButton {
    background-color: #ef4444;
    color: white;
    border: none;
    padding: 0.4rem 0.6rem;
    border-radius: 4px;
    cursor: pointer;
}

.startConversationButton {
    width: calc(100% - 1rem);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0.75rem;
    margin: 0.5rem;
    background-color: #3b82f6;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: bold;
    transition: background-color 0.2s ease;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    margin-top: 1rem;
}

.startConversationButton:hover {
    background-color: #2563eb;
}

.manageUsersButton {
    width: calc(100% - 1rem);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0.75rem;
    margin: 0.5rem;
    background-color: #5a67d8;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: bold;
    transition: background-color 0.2s ease;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.manageUsersButton:hover {
    background-color: #434eac;
}

.contactsList {
    flex-grow: 1;
    overflow-y: auto;
    padding: 0.5rem 0;
}

.listTitle {
    font-size: 0.75rem;
    color: #9ca3af;
    margin-top: 1rem;
    text-transform: uppercase;
    padding-left: 0.5rem;
}

.contactItem {
    padding: 0.5rem 0.75rem;
    margin-top: 0.25rem;
    border-radius: 6px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: rgb(255, 255, 255);
}

.contactItem:hover {
    background-color: #374151;
}

.active {
    background-color: #3b82f6;
    color: white;
}

.onlineIndicator {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: #10b981;
}

.offlineIndicator {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: #6b7280;
}

.pendingRequestsBadge {
    background-color: #ef4444;
    color: white;
    font-size: 0.7rem;
    padding: 2px 6px;
    border-radius: 9999px;
    margin-left: auto;
}

.createGroupButton {
    width: calc(100% - 1rem);
    padding: 0.75rem;
    margin: 0.5rem;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: bold;
    transition: background-color 0.2s ease;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.createGroupButton:hover {
    background-color: #45a049;
}

.mainContent {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    background-color: #111827;
    min-width: 0;
}

.chatHeader {
    padding: 1rem;
    background-color: #1f2937;
    border-bottom: 1px solid #374151;
    font-size: 1.2rem;
    font-weight: bold;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.manageGroupButton {
    background: none;
    border: none;
    color: #9ca3af;
    cursor: pointer;
    padding: 0.5rem;
    border-radius: 4px;
    transition: background-color 0.2s;
}

.manageGroupButton:hover {
    background-color: #374151;
}

.groupManagementSection {
    background-color: #2d3a4b;
    padding: 1rem;
    border-bottom: 1px solid #374151;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    width: 100%;
    box-sizing: border-box;
}

.groupManagementSection h3 {
    font-size: 1.1rem;
    margin-bottom: 0.5rem;
    color: #f9fafb;
}

.managementCategory {
    border: 1px solid #4b5563;
    border-radius: 0.5rem;
    padding: 0.75rem;
}

.managementCategory h4 {
    font-size: 0.9rem;
    color: #cbd5e1;
    margin-bottom: 0.5rem;
}

.managementList {
    list-style: none;
    padding: 0;
    margin: 0;
}

.managementItem {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.4rem 0;
    border-bottom: 1px dashed #374151;
    color: #d1d5db;
}

.managementItem:last-child {
    border-bottom: none;
}

.managementActions {
    display: flex;
    gap: 0.5rem;
}

.actionButton {
    padding: 0.3rem 0.6rem;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.8rem;
    font-weight: 500;
    transition: background-color 0.2s;
}

.approveButton {
    background-color: #10b981;
    color: white;
    border: none;
}

.approveButton:hover {
    background-color: #059669;
}

.rejectButton {
    background-color: #f59e0b;
    color: white;
    border: none;
}

.rejectButton:hover {
    background-color: #d97706;
}

.banButton {
    background-color: #ef4444;
    color: white;
    border: none;
}

.banButton:hover {
    background-color: #dc2626;
}

.adminBadge {
    background-color: #6366f1;
    color: white;
    font-size: 0.6rem;
    padding: 2px 8px;
    border-radius: 9999px;
    margin-left: 0.5rem;
}

.deleteGroupButton {
    background-color: #dc2626;
    color: white;
    border: none;
    padding: 0.75rem 1rem;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.2s ease;
    width: 100%;
    box-sizing: border-box;
    text-align: center;
}

.deleteGroupButton:hover {
    background-color: #b91c1c;
}

.actionButton.deleteGroupButton {
    background-color: #dc2626;
    color: white;
}

.userManagementSection {
    background-color: #2d3a4b;
    padding: 1rem;
    border-bottom: 1px solid #374151;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    width: 100%;
    box-sizing: border-box;
}

.bannedIndicator {
    background-color: #dc2626;
    color: white;
    font-size: 0.7rem;
    padding: 2px 6px;
    border-radius: 9999px;
    margin-left: 0.5rem;
    font-weight: bold;
}

.chatWindow {
    flex-grow: 1;
    overflow-y: auto;
    padding: 1rem;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.messageSenderName {
    font-size: 0.75rem;
    color: #07e752;
    margin-bottom: 4px;
    font-weight: 600;
}

.myMessage .messageSenderName {
    text-align: right;
}

.theirMessage .messageSenderName {
    text-align: left;
}

.messageBubble {
    max-width: 70%;
    padding: 0.75rem;
    border-radius: 12px;
    position: relative;
    display: inline-block;
    word-wrap: break-word;
}

.myMessage {
    align-self: flex-end;
    background-color: #3b82f6;
    color: white;
}

.theirMessage {
    align-self: flex-start;
    background-color: #4b5563;
    color: rgb(255, 255, 255);
}

.messageContent p {
    margin: 0;
    font-size: 0.9rem;
}

.messageTimestamp {
    font-size: 0.7rem;
    color: #d1d5db;
    margin-top: 4px;
    display: block;
    text-align: right;
}

.messageInputArea {
    display: flex;
    align-items: center;
    padding: 1rem;
    border-top: 1px solid #374151;
    gap: 0.5rem;
}

.messageInput {
    flex-grow: 1;
    background-color: #1f2937;
    border: 1px solid #374151;
    color: white;
    padding: 0.5rem;
    border-radius: 8px;
}

.attachButton {
    background: none;
    border: none;
    color: #9ca3af;
    cursor: pointer;
}

.sendButton {
    background-color: #3b82f6;
    color: white;
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 6px;
    cursor: pointer;
}

.sendButton:disabled {
    background-color: #60a5fa;
    cursor: not-allowed;
}

.selectedFilePreview {
    display: flex;
    align-items: center;
    background-color: #1f2937;
    padding: 0.5rem;
    border-radius: 8px;
    gap: 0.5rem;
    border: 1px solid #374151;
    flex-grow: 1;
    justify-content: space-between;
}

.removeFileButton {
    background: none;
    border: none;
    color: #ef4444;
    cursor: pointer;
}

.placeholder {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-grow: 1;
    font-size: 1rem;
    color: #9ca3af;
    text-align: center;
}

.error {
    color: #ef4444;
    font-size: 0.8rem;
    margin-bottom: 0.5rem;
}

/* Estilos para o modal/seção "Iniciar Conversa" */
.startConversationModal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: rgba(0, 0, 0, 0.8);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 1001;
    padding: 2rem;
    box-sizing: border-box;
}

.startConversationModal h3 {
    color: #f9fafb;
    font-size: 1.5rem;
    margin-bottom: 1.5rem;
}

.userListContainer {
    background-color: #1f2937;
    border-radius: 0.5rem;
    max-height: 70vh;
    overflow-y: auto;
    width: 90%;
    max-width: 400px;
    padding: 1rem;
    border: 1px solid #374151;
}

.startConversationModal .contactItem {
    padding: 0.75rem 1rem;
    margin-bottom: 0.25rem;
    border-radius: 6px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    color: white;
    transition: background-color 0.2s;
}

.startConversationModal .contactItem:hover {
    background-color: #374151;
}

.startConversationModal .bannedUserItem {
    opacity: 0.6;
    cursor: not-allowed;
}

.startConversationModal .bannedUserItem:hover {
    background-color: #1f2937;
}

.closeModalButton {
    background-color: #ef4444;
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: bold;
    margin-top: 1.5rem;
    transition: background-color 0.2s ease;
}

.closeModalButton:hover {
    background-color: #dc2626;
}

/* ----------------------------------------------------------- */
/* NOVAS REGRAS PARA AJUSTE EM TELAS GRANDES (>= 1440px) */
/* ----------------------------------------------------------- */

@media (min-width: 1440px) {
    .sidebar {
        width: 220px; /* Sidebar um pouco mais estreita */
        padding: 0.75rem; /* Padding ligeiramente menor */
    }

    .sidebarHeader h3 {
        font-size: 1.05rem; /* Título Bem-vindo menor */
    }

    .logoutButton {
        padding: 0.3rem 0.5rem; /* Botão Sair menor */
        font-size: 0.8rem;
    }

    .startConversationButton,
    .manageUsersButton,
    .createGroupButton {
        padding: 0.6rem; /* Botões menores */
        font-size: 0.9rem;
    }

    .contactsList {
        padding: 0.4rem 0; /* Padding da lista menor */
    }

    .listTitle {
        font-size: 0.7rem; /* Título da lista menor */
    }

    .contactItem {
        padding: 0.4rem 0.6rem; /* Itens da lista menores */
        font-size: 0.9rem;
        gap: 0.4rem; /* Espaçamento menor */
    }

    .onlineIndicator,
    .offlineIndicator {
        width: 8px; /* Indicadores menores */
        height: 8px;
    }

    .pendingRequestsBadge,
    .bannedIndicator,
    .adminBadge {
        font-size: 0.6rem; /* Badges menores */
        padding: 1px 5px;
    }

    .chatHeader {
        padding: 0.8rem; /* Cabeçalho do chat menor */
        font-size: 1.1rem;
    }

    .manageGroupButton {
        padding: 0.4rem; /* Botão de gerenciamento de grupo menor */
    }

    .groupManagementSection,
    .userManagementSection {
        padding: 0.8rem; /* Seções de gerenciamento menores */
        gap: 0.8rem;
    }

    .groupManagementSection h3,
    .userManagementSection h3 {
        font-size: 1rem; /* Títulos menores nas seções de gerenciamento */
    }

    .managementCategory {
        padding: 0.6rem; /* Categorias menores */
    }

    .managementCategory h4 {
        font-size: 0.85rem; /* Títulos menores das categorias */
    }

    .managementItem {
        padding: 0.3rem 0; /* Itens das listas de gerenciamento menores */
        font-size: 0.8rem;
    }

    .actionButton {
        padding: 0.25rem 0.5rem; /* Botões de ação menores */
        font-size: 0.7rem;
    }

    .deleteGroupButton {
        padding: 0.6rem 0.8rem; /* Botão de exclusão menor */
        font-size: 0.9rem;
    }

    .chatWindow {
        padding: 0.8rem; /* Padding da janela de chat menor */
        gap: 0.4rem; /* Espaçamento entre mensagens menor */
    }

    .messageSenderName {
        font-size: 0.7rem; /* Nome do remetente menor */
    }

    .messageBubble {
        max-width: 65%; /* Bolhas de mensagem ligeiramente mais estreitas */
        padding: 0.6rem; /* Padding da bolha menor */
        border-radius: 10px; /* Borda ligeiramente menor */
    }

    .messageContent p {
        font-size: 0.8rem; /* Conteúdo da mensagem menor */
    }

    .messageTimestamp {
        font-size: 0.6rem; /* Timestamp menor */
    }

    .messageInputArea {
        padding: 0.8rem; /* Área de input menor */
        gap: 0.4rem;
    }

    .messageInput {
        padding: 0.4rem; /* Input de mensagem menor */
        font-size: 0.8rem;
    }

    .attachButton {
        padding: 0.2rem; /* Botão de anexo menor */
    }

    .sendButton {
        padding: 0.4rem 0.8rem; /* Botão de envio menor */
        font-size: 0.9rem;
    }

    .selectedFilePreview {
        padding: 0.4rem; /* Preview de arquivo menor */
        font-size: 0.8rem;
    }

    .removeFileButton svg { /* Ajustar o tamanho do ícone X dentro do botão */
        width: 14px;
        height: 14px;
    }

    /* Ajustes para o modal de iniciar conversa */
    .startConversationModal h3 {
        font-size: 1.3rem; /* Título do modal menor */
        margin-bottom: 1rem;
    }

    .userListContainer {
        max-height: 60vh; /* Altura máxima do container da lista de usuários no modal */
        width: 80%; /* Largura um pouco menor */
        max-width: 350px;
        padding: 0.8rem;
    }

    .startConversationModal .contactItem {
        padding: 0.6rem 0.8rem; /* Itens da lista no modal menores */
        font-size: 0.85rem;
        gap: 0.6rem;
    }

    .closeModalButton {
        padding: 0.6rem 1.2rem; /* Botão fechar modal menor */
        font-size: 0.9rem;
    }
}